[buildout]
extends = buildout.cfg
extensions +=
    mr.developer
parts +=
    omelette
    test
    zopepy
develop = ./src/*
auto-checkout = *

[sources]
seantis.dir.base = git git@github.com:seantis/seantis.dir.base.git branch=events
seantis.dir.events = git git@github.com:seantis/seantis.dir.events.git
sauna.reload = git git://github.com/epeli/sauna.reload.git
collective.geo.geographer = git git://github.com/collective/collective.geo.geographer
collective.geo.contentlocations = git git://github.com/collective/collective.geo.contentlocations
collective.geo.settings = git git://github.com/collective/collective.geo.settings
collective.geo.mapwidget = git git://github.com/collective/collective.geo.mapwidget
collective.geo.openlayers = git git://github.com/collective/collective.geo.openlayers
collective.geo.kml = git git://github.com/collective/collective.geo.kml

Products.ATContentTypes = git git://github.com/plone/Products.ATContentTypes
plone.app.event = git git://github.com/collective/plone.app.event.git
plone.app.portlets = git git://github.com/plone/plone.app.portlets.git
plone.event = git git://github.com/collective/plone.event.git
plone.formwidget.recurrence = git git://github.com/collective/plone.formwidget.recurrence.git
plone.formwidget.datetime = git git://github.com/collective/plone.formwidget.datetime.git
icalendar = git git://github.com/collective/icalendar.git

[instance]
http-address = 8080
debug-mode = on
verbose-security = on
user = admin:admin
eggs = 
    ${plone:eggs}
    sauna.reload

zope-conf-additional += 
    %import sauna.reload

environment-vars += 
    RELOAD_PATH src/seantis.dir.base:src/seantis.dir.events

[omelette]
recipe = collective.recipe.omelette
eggs = ${plone:eggs}

[testenv]
APP_PATH = ${buildout:directory}

[test]
recipe = zc.recipe.testrunner
eggs =
    Pillow
    seantis.dir.base
    seantis.dir.events
defaults = ['--auto-color', '--auto-progress']
environment = testenv

[zopepy]
recipe = zc.recipe.egg
eggs = ${test:eggs}
interpreter = zopepy
scripts = zopepy